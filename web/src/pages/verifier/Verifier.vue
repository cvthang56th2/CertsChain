<template>
  <DefaultLayout>
    <div class="xl:flex h-full">
      <aside class="xl:w-[155px] shadow-md bg-blue-50" aria-label="Sidebar">
        <div class="overflow-y-auto py-4 px-3 rounded">
          <ul class="space-y-2">
            <li v-for="(tabObj, tIndex) in  tabs" :key="`holder-tab-${tIndex}`" @click="currentTab = tabObj.value" class="shadow-md" :class="currentTab === tabObj.value ? 'bg-blue-200' : ''">
              <a
              class="flex items-center xl:flex-col p-5 text-base font-medium text-gray-900 rounded-md hover:bg-blue-100 cursor-pointer text-center"
              >
                <span v-html="tabObj.icon"></span>
                <span class="ml-3 xl:ml-0 xl:mt-1">{{ tabObj.label }}</span>
              </a>
            </li>
          </ul>
        </div>
      </aside>
      <div class="flex-1 py-4 px-3">
        <component :is="currentTab" />
      </div>
    </div>
  </DefaultLayout>
</template>

<script>
import Dashboard from './dashboard/Dashboard.vue'
import CertificateList from './certs/List.vue'
import CertificateChain from '../CertificateChain.vue'
import UserList from './users/List.vue'
import DefaultLayout from '../../components/layouts/Default.vue'

export default {
  components: {
    Dashboard,
    CertificateList,
    CertificateChain,
    UserList,
    DefaultLayout
  },
  data: () => ({
    currentTab: 'UserList',
    tabs: [
      {
        label: 'Users',
        value: 'UserList',
        icon: `<svg
          version="1.1"
          id="Layer_1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          width="35px"
          height="35px"
          viewBox="0 0 512 512"
          enable-background="new 0 0 512 512"
          xml:space="preserve"
        >
          <text transform="matrix(1 0 0 1 168.7834 543.8093)">
            <tspan
              x="0"
              y="0"
              fill="#FFFF00"
              font-family="'Verdana-Bold'"
              font-size="20"
            >
              simpleicon.com
            </tspan>
            <tspan
              x="-159.59"
              y="24"
              fill="#FFFF00"
              font-family="'Verdana'"
              font-size="20"
            >
              Collection Of Flat Icon, Symbols And Glyph Icons
            </tspan>
          </text>
          <g>
            <path
              fill="#020201"
              d="M112.066,319.819c21.252-14.114,44.849-21.851,67.67-29.382c3.279-1.078,6.554-2.137,9.813-3.239
            l0.668-0.221c4.822-1.689,9.393-3.284,13.134-5.345c0.169-0.394,0.411-1.049,0.7-2.135c-18.788-27.428-31.554-69.82-31.554-106.136
            c0-30.807,9.682-53.629,27.941-67.526c-7.894-3.991-17.416-5.527-27.663-5.527c-27.307,0-49.442,10.91-49.442,50.082
            c0,26.007,9.755,57.906,24.296,76.43c-0.135,1.464-0.308,2.931-0.571,4.388c-0.867,3.979-2.261,8.437-5.981,10.646
            c-4.174,2.478-8.81,4.051-13.372,5.649c-18.912,6.365-38.472,11.975-55.258,23.121c-8.727,5.745-14.639,15.713-17.9,25.506
            c-3.359,10.163-4.733,24.371-4.526,32.371h51.575C104.868,324.5,108.354,322.258,112.066,319.819z"
            />
            <path
              fill="#020201"
              d="M457.457,296.129c-3.263-9.793-9.178-19.379-17.9-25.125c-16.79-11.145-36.352-16.946-55.262-23.307
            c-4.563-1.598-9.197-3.267-13.366-5.746c-3.726-2.213-5.121-6.715-5.982-10.698c-0.382-2.108-0.619-4.25-0.736-6.378
            c13.712-18.761,22.809-49.369,22.809-74.471c0-39.18-22.137-50.097-49.443-50.097c-10.385,0-20.009,1.594-27.967,5.706
            c18.105,13.913,27.697,36.684,27.697,67.366c0,35.358-11.861,76.072-29.895,103.673c0.049,0.313,0.097,0.619,0.153,0.925
            c0.475,2.141,0.864,3.259,1.106,3.814c3.955,2.205,8.687,3.935,13.973,5.794l7.919,2.639c23.412,7.773,47.621,15.722,69.428,30.19
            c3.524,2.325,6.852,4.085,9.971,8.085h52.019C462.189,320.5,460.813,306.292,457.457,296.129z"
            />
          </g>
          <path
            d="M414.744,368.006c-4.354-13.059-12.239-25.999-23.867-33.668c-22.386-14.854-48.47-22.674-73.685-31.155
          c-6.084-2.133-12.264-4.395-17.82-7.701c-4.969-2.953-6.827-8.97-7.979-14.28c-0.507-2.816-0.824-5.678-0.981-8.519
          c18.282-25.013,30.413-65.829,30.413-99.3c0-52.24-29.516-66.796-65.926-66.796c-36.408,0-65.922,14.541-65.922,66.776
          c0,34.67,13.006,77.204,32.395,101.912c-0.181,1.947-0.41,3.902-0.76,5.842c-1.159,5.303-3.018,11.249-7.975,14.194
          c-5.568,3.308-11.749,5.399-17.832,7.532c-25.215,8.489-51.297,15.965-73.677,30.827c-11.636,7.661-19.52,21.277-23.867,34.336
          c-4.48,13.551-6.311,30.494-6.035,43.494h164.772h164.773C421.053,398.5,419.219,381.556,414.744,368.006z"
          />
        </svg>`
      },
      {
        label: 'Certificates',
        value: 'CertificateList',
        icon: `<svg
          class="flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900"
          fill="currentColor"
          version="1.1"
          width="35px"
          height="35px"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 1000 1000"
          enable-background="new 0 0 1000 1000"
          xml:space="preserve"
        >
          <metadata>
            Svg Vector Icons : http://www.onlinewebfonts.com/icon
          </metadata>
          <g>
            <g
              transform="translate(0.000000,511.000000) scale(0.100000,-0.100000)"
            >
              <path
                d="M433.5,4175.4c-142.1-70-214.1-146.2-284.1-296.5L100,3776V801v-2975l49.4-102.9c70-150.3,142.1-226.5,284.1-296.5l125.6-63.8h1383.5h1383.5l41.2,144.1l43.2,144.1l-844.1,4.1l-844.1,6.2l-55.6,179.1c-102.9,317-280,580.6-522.9,780.3c-152.4,123.5-450.9,273.8-621.8,312.9l-123.5,28.8V811.3v1846.8l135.9,37.1c543.5,140,971.8,553.8,1140.6,1101.5l45.3,144.1h3298.2h3298.2l61.8-185.3c86.5-259.4,201.8-444.7,397.4-640.3c195.6-193.5,387.1-312.9,642.3-397.3l183.3-61.8V811.3v-1844.7l-183.3-61.8c-201.8-68-317-127.6-485.9-257.4c-273.8-205.9-483.8-522.9-578.5-862.7l-32.9-123.5l-912.1-6.2c-714.4-4.1-907.9-10.3-899.7-30.9c4.1-12.4,26.8-78.2,47.4-142.1l37.1-119.4h1422.6h1424.7l125.6,63.8c142.1,70,214.1,146.2,284.1,296.5L9900-2174V801v2975l-49.4,102.9c-70,150.3-142,226.5-284.1,296.5l-125.6,63.8H5000H559.1L433.5,4175.4z"
              />
              <path
                d="M2405.9,2818.7v-144.1h2604.4h2604.4v144.1v144.1H5010.3H2405.9V2818.7z"
              />
              <path
                d="M2405.9,1892.2v-144.1h2604.4h2604.4v144.1v144.1H5010.3H2405.9V1892.2z"
              />
              <path
                d="M4633.5,1087.2c-86.5-156.5-109.1-183.2-160.6-195.6c-30.9-8.2-82.4-4.1-115.3,8.2c-197.6,82.4-181.2,80.3-224.4,26.8c-20.6-26.8-39.1-80.3-39.1-119.4c0-154.4-67.9-212.1-242.9-207.9c-152.4,4.1-177.1-16.5-156.5-137.9c37.1-220.3,6.2-277.9-168.8-329.4c-152.3-43.2-164.7-102.9-47.3-255.3c76.2-96.7,39.1-207.9-94.7-290.3c-102.9-63.8-100.9-144.1,8.2-222.3c140-96.8,156.5-179.1,63.8-315c-32.9-49.4-61.8-107.1-61.8-125.6c0-37.1,74.1-98.8,119.4-98.8c57.7,0,164.7-65.9,187.4-115.3c18.5-41.2,18.5-82.4-2.1-172.9c-32.9-164.7-12.3-187.3,162.7-181.2c123.5,6.2,135.9,2.1,183.2-51.5c35-41.2,49.4-82.3,49.4-140c0-45.3,10.3-100.9,20.6-123.5c26.8-47.4,111.2-51.5,185.3-8.2c28.8,16.5,84.4,28.8,127.7,30.9c82.4,0,150.3-61.8,199.7-181.2c45.3-107.1,125.6-102.9,236.8,14.4c84.4,88.5,191.5,88.5,273.8,0c113.2-121.5,207.9-119.4,251.2,6.2c51.5,148.2,183.2,203.8,310.9,129.7c74.1-43.2,158.5-39.1,185.3,8.2c10.3,22.6,20.6,74.1,20.6,115.3c0,148.2,88.5,220.3,253.2,201.8c133.8-16.5,166.8,14.4,148.2,137.9c-24.7,156.5-18.5,205.9,30.9,257.4c24.7,26.8,76.2,55.6,111.2,61.8c88.5,18.5,156.5,65.9,156.5,109.1c0,18.5-28.8,76.2-61.8,125.6c-88.5,131.7-82.4,172.9,51.5,300.6c61.8,59.7,113.2,121.5,113.2,133.8s-24.7,43.2-53.5,67.9C6457.6-286,6441.2-230.4,6546.2-88.4c90.6,123.5,74.1,179.1-72.1,220.3c-177.1,51.5-201.8,98.8-166.8,331.5c18.5,129.7,4.1,142.1-166.8,135.9c-119.4-4.1-129.7-2.1-181.2,57.6c-37.1,45.3-53.5,88.5-53.5,144.1c0,45.3-16.5,96.8-39.1,125.6c-43.2,53.5-24.7,55.6-228.5-26.8c-96.8-39.1-164.7-4.1-236.8,127.7c-82.3,148.2-125.6,154.4-247.1,43.2c-121.5-113.2-187.4-113.2-306.8-2.1C4738.5,1169.5,4680.9,1173.7,4633.5,1087.2z M5339.7,510.7c253.2-78.2,490-277.9,623.8-527.1c282.1-531.2,63.8-1212.6-475.6-1474.1c-201.8-98.8-333.5-125.6-547.7-113.2c-399.4,24.7-728.8,240.9-905.9,597.1C3785.3-512.5,3939.7,76.3,4394.7,381C4680.9,568.4,5006.2,613.7,5339.7,510.7z"
              />
              <path
                d="M4860,90.7c-70-142.1-133.8-257.4-142.1-257.4c-10.3,0-131.8-18.5-273.8-41.2c-142.1-22.6-265.6-41.2-277.9-41.2c-10.3,0,76.2-96.8,193.5-214.1l212.1-214.1l-49.4-290.3l-51.5-290.3l265.6,137.9l267.6,137.9l267.6-142.1c205.9-107.1,265.6-129.7,255.3-100.9c-6.2,22.7-30.9,154.4-53.5,294.4l-43.2,257.4l210,210l210,212.1l-70,10.3c-39.1,8.2-166.8,26.8-284.1,43.2c-117.3,18.5-218.2,35-226.5,39.1c-6.2,4.1-67.9,121.5-135.9,257.3c-65.9,137.9-127.7,249.1-133.8,249.1S4932.1,232.8,4860,90.7z"
              />
              <path
                d="M3902.7-1854.9c-18.5-45.3-590.9-1861.2-590.9-1877.6c0-8.2,135.9,57.6,300.6,142.1c238.8,123.5,304.7,150.3,319.1,127.6c10.3-16.5,84.4-152.4,166.8-302.6c90.6-164.7,154.4-261.5,162.6-247.1c18.5,35,512.6,1597.6,512.6,1622.3c0,12.3-30.9,20.6-65.9,20.6c-98.8,0-189.4,65.9-240.9,172.9l-47.4,94.7l-78.2-41.2c-195.6-100.9-382.9,2.1-411.8,226.5C3921.2-1863.1,3910.9-1836.3,3902.7-1854.9z"
              />
              <path
                d="M6025.3-2062.8c-37.1-63.8-146.2-121.5-226.5-121.5c-26.8,0-86.5,18.5-133.8,39.1l-86.5,41.2l-45.3-94.7c-24.7-51.5-74.1-109.1-109.1-131.7c-70-43.3-197.6-51.5-261.5-18.5c-20.6,12.3-39.1,16.5-39.1,10.3c0-10.3,504.4-1616.2,527.1-1677.9c6.2-18.5,70,61.8,177.1,226.5c90.6,142.1,166.8,259.4,168.8,261.5c2.1,2.1,137.9-45.3,300.6-105c164.7-61.8,300.6-109.1,304.7-105c2.1,2.1-115.3,389.1-263.5,856.5c-148.2,469.4-271.8,858.5-273.8,866.8C6062.3-2007.2,6043.8-2027.8,6025.3-2062.8z"
              />
            </g>
          </g>
        </svg>`
      },
      {
        label: 'Certificate Chain',
        value: 'CertificateChain',
        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="35px" height="35px" viewBox="0 0 109.06 122.88"><path d="M34.43 47.86L52.8 37.6V18.31a9.233 9.233 0 01-5.46-3.16L17.91 32.18c.35.98.54 2.03.54 3.13 0 .92-.13 1.8-.38 2.64l16.36 9.91zm11.35-35.38a9.231 9.231 0 01-.59-3.25c0-2.55 1.03-4.86 2.7-6.53S51.87 0 54.42 0c2.55 0 4.86 1.03 6.53 2.7a9.205 9.205 0 012.7 6.53c0 1.12-.2 2.19-.56 3.18l29.57 17.1c.21-.25.42-.5.65-.73a9.205 9.205 0 016.53-2.7c2.55 0 4.86 1.03 6.53 2.7a9.205 9.205 0 012.7 6.53c0 2.55-1.03 4.85-2.7 6.52a9.194 9.194 0 01-5.32 2.62v33.91c2.07.27 3.92 1.22 5.32 2.62 1.67 1.67 2.7 3.98 2.7 6.52a9.222 9.222 0 01-9.23 9.23 9.205 9.205 0 01-7.15-3.39l-29.61 17.12c.36.99.56 2.06.56 3.18 0 2.55-1.03 4.86-2.7 6.53a9.205 9.205 0 01-6.53 2.7c-2.55 0-4.86-1.03-6.53-2.7s-2.7-3.98-2.7-6.53c0-1.14.21-2.24.59-3.25L16.35 93.38a9.205 9.205 0 01-7.13 3.36c-2.55 0-4.86-1.03-6.53-2.7C1.03 92.37 0 90.06 0 87.51s1.03-4.85 2.7-6.52a9.242 9.242 0 015.25-2.62V44.44a9.18 9.18 0 01-5.25-2.62A9.164 9.164 0 010 35.3c0-2.55 1.03-4.86 2.7-6.53a9.205 9.205 0 016.53-2.7 9.205 9.205 0 017.16 3.4l29.39-16.99zm15.76 2.61a9.192 9.192 0 01-5.55 3.23V37.6l18.33 10.62 16.85-9.74c-.37-.99-.56-2.07-.56-3.18 0-1.08.19-2.13.53-3.09l-29.6-17.12zm36.69 29.3a9.159 9.159 0 01-4.92-2.56c-.19-.19-.37-.38-.54-.59l-16.82 9.72v20.78l16.89 9.75c.15-.17.3-.34.46-.5a9.194 9.194 0 014.92-2.56V44.39h.01zm-7.07 46.27c-.36-.98-.55-2.04-.55-3.14 0-1.16.21-2.27.61-3.3l-16.34-9.43-18.89 10.98v18.79a9.192 9.192 0 015.55 3.23l29.62-17.13zm-43.82 17.06a9.233 9.233 0 015.46-3.16V85.68l-18.96-11-16.09 9.29c.45 1.09.71 2.29.71 3.55 0 1.12-.2 2.19-.56 3.18l29.44 17.02zM10.76 78.41c1.93.32 3.66 1.25 4.99 2.58.1.1.19.2.28.3l16.39-9.46V50.36L16.64 40.8c-.27.37-.57.71-.89 1.03a9.255 9.255 0 01-4.99 2.58v34zM9.24 41.34c.04 0 .08-.01.12-.01h.08a6 6 0 004.06-1.76 6.023 6.023 0 001.77-4.27c0-1.67-.68-3.18-1.77-4.27-1.09-1.09-2.6-1.77-4.27-1.77s-3.18.68-4.27 1.77a6.023 6.023 0 00-1.77 4.27c0 1.67.68 3.18 1.77 4.27a6.03 6.03 0 004.28 1.77zm49.44 68.05a6.023 6.023 0 00-4.27-1.77c-1.67 0-3.18.68-4.27 1.77-1.09 1.09-1.77 2.6-1.77 4.27s.68 3.18 1.77 4.27 2.6 1.77 4.27 1.77c1.67 0 3.18-.68 4.27-1.77 1.09-1.09 1.77-2.6 1.77-4.27s-.67-3.18-1.77-4.27zm0-104.43a6.023 6.023 0 00-4.27-1.77c-1.67 0-3.18.68-4.27 1.77s-1.77 2.6-1.77 4.27c0 1.67.68 3.18 1.77 4.27a6.023 6.023 0 004.27 1.77c1.67 0 3.18-.68 4.27-1.77a6.023 6.023 0 001.77-4.27c0-1.67-.67-3.18-1.77-4.27zm45.42 78.29a6.023 6.023 0 00-4.27-1.77c-1.67 0-3.18.68-4.27 1.77a6.023 6.023 0 00-1.77 4.27c0 1.67.68 3.18 1.77 4.27a6.023 6.023 0 004.27 1.77c1.67 0 3.18-.68 4.27-1.77a6.023 6.023 0 001.77-4.27c0-1.67-.67-3.18-1.77-4.27zm-90.6 0c-1.09-1.09-2.6-1.77-4.27-1.77s-3.18.68-4.27 1.77a6.023 6.023 0 00-1.77 4.27c0 1.67.68 3.18 1.77 4.27s2.6 1.77 4.27 1.77 3.18-.68 4.27-1.77a6.023 6.023 0 001.77-4.27 6.065 6.065 0 00-1.77-4.27zm80.95-45.22c.08.08.14.18.2.28.06.1.1.2.14.31.23.34.49.66.77.95a6.023 6.023 0 004.27 1.77c1.67 0 3.18-.68 4.27-1.77a6.023 6.023 0 001.77-4.27c0-1.67-.68-3.18-1.77-4.27a6.023 6.023 0 00-4.27-1.77c-1.67 0-3.18.68-4.27 1.77a6.023 6.023 0 00-1.77 4.27c.01.99.25 1.91.66 2.73zM35.41 71.49a1.687 1.687 0 01.43.88l17.13 10.07V62.56L35.41 52.11v19.38zm37.56-19.11L55.96 62.57v19.89l17.01-10.05V52.38zM54.39 39.99l-16.6 9.93 16.69 10.05 16.21-9.84-16.3-10.14z" fill-rule="evenodd" clip-rule="evenodd"/></svg>`
      },
    ]
  }),
  watch: {
    currentTab () {
      this.$router.push({ path: this.$route.path, query: { tab: this.currentTab }})
    }
  },
  mounted() {
    const _this = this
    const { tab } = _this.$route.query
    if (tab && _this.tabs.some(e => e.value === tab)) {
      _this.currentTab = tab
    }
  }
}
</script>

<style>

</style>